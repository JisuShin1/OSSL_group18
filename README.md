도서 관리 프로그램
===

### 목차
- 팀원 구성<br/>
22000392 신지수(CRUD 함수, 이름 검색, 저자 검색, 장르 검색 함수 담당)<br/>
22000758 최윤성(구조체, 메뉴 초안 및 저장/불러오기 외 검색 2개 함수 담당)<br/>
- 주제<br/>
도서관이라는 주제로 도서 조회를 할 수 있는 프로그램 제작
- 구성<br>
도서들에 대한 정보들 중 대표적인 구분 요소들에 따라 책을 분류 및 검색한다. 이 그룹에서 선정한 구분 요소들은 다음과 같다.
> 책 제목, 저자, 장르, 대출일, 대출 가능 여부

- 기능
  1. CRUD
      * **Create 함수**<br/>
문자열 및 숫자 입출력을 통해서 책 제목, 저자, 장르, 대출일, 대출 여부를 묻고 사용자에게 값을 받아옵니다. 책 제목과 저자, 장르의 경우 문자열을 입력 받고 대출일과 대출여부의 경우 숫자를 입력 받습니다. 이때 대출일은 월, 일을 입력 받습니다. 만약 대출이 되지 않은 도서일때는 월, 일에 00, 00을 입력합니다. 입력 받은 정보들을 포인터를 이용해 구조체의 각 항목에 저장합니다.

      * **Read 함수**<br/>
Create 함수에서 저장한 값을 읽는 함수입니다. 책 제목과 저자의 경우 길이를 고려하여 %12s, %8s로 길이를 늘려 받아옵니다. 구조체에 있는 값을 받아오기만 하는 함수이기 때문에 포인터를 사용하지 않습니다.

      * **Update 함수**<br/>
Update 함수의 경우 Create 함수와 동일한 형태를 하고 있고 같은 기능을 합니다. 새로운 책 이름, 저자, 장르, 대출일, 대출여부를 받고 포인터를 이용해 구조체에 저장합니다. 입력을 받을때 출력하는 안내문에는 '새로운' 이라는 내용이 추가 됩니다. 이 함수는 main 함수에서 해당 번호의 기존 정보를 덮어씌우는 용도로 사용됩니다. 수정이 왼료되면 마지막에 '-----도서 정보가 수정되었습니다-----'라고 출력하게 됩니다.

      * **Delete 함수**<br/>
 이 함수는 해당 책에 대한 정보들을 모두 삭제해 조회를 했을 경우 출력되지 않도록 바꾸는 역할을 하게 됩니다. main 함수를 통해 삭제할 정보의 index를 받아오고 그 정보를 삭제하는 기능을 하게 됩니다. 정말 삭제할지 다시 한번 확인하기 위해 '정말로 삭제하시겠습니까? (삭제:1):'를 출력해 여부를 묻습니다. 1을 입력 받게 되면 대출여부를 -1로 바꿉니다. 


  2. 데이터 파일 저장/불러오기

      * **파일 저장**<br/>
C 언어 내에 있는 파일 포인터에 의한 FileIO 함수를 통해 같은 디렉토리 내 파일에 내용을 작성합니다. 파일 작성 포맷은 대출 가능 여부, 대출일, 장르, 저자, 책 제목의 순서로 저장되며, 각 항목에 대한 구분 문자(Delimiter)는 `;`입니다. 공백 문자로 구분하기에는 저자나 책 이름에 띄어쓰기가 포함될 수 있기 때문에 `;`로 구분합니다. 단, 맨 마지막 항목인 책 제목은 개행 문자로 구분하며, 대출 가능 여부 값이 음수인 경우 삭제된 데이터로 취급하여 저장하지 않습니다.

      * **파일 불러오기**<br/>
마찬가지로 C 언어의 내장 함수를 이용하여 같은 디렉토리 내 파일로부터 데이터들을 불러옵니다. EOF이 나오기 전까지 데이터를 불러오며, 각 데이터의 포맷인 대출 가능 여부, 대출일, 장르, 저자, 책 제목 순으로 데이터를 읽어옵니다. 대출 가능 여부는 정수형이기 때문에 값을 읽고 바로 다음에 나오는 `;`는 `%*c`로 제거합니다. 이후 모든 문자열들은 `;`가 나오기 전까지의 모든 값들을 읽어들이며, 마지막 항목인 책 제목만 개행 문자가 나오기 전까지의 값을 불러옵니다. EOF가 나오기 전까지 인덱스를 늘리며 반복합니다.

  3. 검색 기능

      * **책 이름 검색**<br/>
검색할 책 이름을 따로 입력 받은 후 모든 인덱스 데이터 중에서 해당 문자열이 있는지 검색하는 함수입니다. string.h의 헤더 파일을 포함시켜 문자열을 찾을 수 있는 strstr 함수를 사용합니다. 만약 strstr 함수가 해당 문자열로 시작하는 포인터 값을 찾으면 해당 인데스에 저장되어 있는 정보를 read 함수를 통해 가져 옵니다. 만약 찾지 못해 Null 값이 나오면 '해당 책 이름을 찾을 수 없습니다'라는 메세지를 출력합니다. 

      * **저자 검색**<br/>
책 이름 검색과 마찬가지로 검색할 저자 이름을 따로 입력 받은 후 모든 인덱스 데이터 중에서 해당 문자열이 있는지 검색하는 함수입니다. 

      * **장르 검색**<br/>
책 이름 검색, 저자 검색과 마친가지로 검색할 장르 이름을 따로 입력 받은 후 모든 인덱스 데이터 중에서 해당 문자열이 있는지 검색하는 함수 입니다. 

      * **대출 가능 여부 검색**<br/>
모든 인덱스의 데이터를 훑으며, 대출 가능 여부가 1인 경우 대출이 가능한 것으로 취급하여 출력합니다. 대출 가능 여부가 0이거나 -1인 경우 누군가 빌려갔거나 삭제된 책의 정보로 취급하여, 이 경우에는 출력하지 않습니다.

      * **연체 여부 검색**<br/>
모든 인덱스의 데이터 중에서 현재 날짜가 대출일보다 6일 이상 큰 경우 연체된 것으로 취급하여 출력합니다. 이때, 날짜는<br>```{1: 31, 2: 28, 3: 31, 4: 30, 5: 31, 6: 30, 7: 31, 8: 31, 9: 30, 10: 31, 11: 30, 12: 31}```<br>의 월별 일 수를 따르며, 이 일 수를 넘어가면 일이 1로 초기화되고 월에 1이 추가가 되는 방식을 사용합니다. 년도 역시 월이 13이 될 때, 월이 1로 초기화되고 년도가 1이 추가가 되는 방식을 사용합니다. 따라서 대출일 + 6일보다 연도나 월이나 일의 값이 큰 경우 연체된 것으로 간주합니다.
